# 리액트 렌더링 성능 향상 방법

1. ### state 선언 위치 

   리액트는 특정 state가 변경되면 그 state가 선언된 컴포넌트와 그 하위 컴포넌트들을 모두 리렌더링 시킨다. 따라서 state 선언 위치에 따라 리렌더링 횟수에 엄청난 영향을 미치는데, 보통 해당 state를 사용하는 컴포넌트들을 잘 구분해놓은 뒤 그 컴포넌트 들 중 가장 최상위 컴포넌트에 선언한다.

2. ### React.memo()

   컴포넌트를 렌더링하여 그 결과를 메모이징 하는데, 다음 렌더링이 일어날 때 props의 값을 이전 props와 얕은 비교 후 변경사항이 없다면 이전에 메모이징한 컴포넌트를 반환한다. 불필요한 리렌더링을 줄일 수 있다.

3. ###  컴포넌트를 매핑할 때는 key값으로 index를 사용하지 않는다.

   리액트에서는 컴포넌트를 매핑할 때 반드시 고유 key를 부여하도록 강제하고 있다. 이 key값으로 많은 사람들이 주로 index를 설정해주는데,  이는 리스트 데이터에 어떠한 값이 삽입이나 삭제된 경우 리렌더링이 발생한다. 또한 이렇게 index를 반복적으로 조작하다보면 데이터가 꼬일 위험도 발생하고, 데이터가 매칭되지 않는 오류가 발생할 수 있다.

4. ### useMemo와 useCallback

   useMemo : 특정 변수가 변할 경우에만 연산을 실행하도록 useMemo를 사용하면 불필요한 연산을 하지 않아도 된다.

   useCallback : useCallback을 사용해 특정함수를 기억하게 하고 props의 변경으로 리렌더링이 발생할 때 그 함수를 재사용함으로써 굳이 리렌더링이 필요없는 컴포넌트의 리렌더링을 방지할 수 있다.

